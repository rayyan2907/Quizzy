@model Quizzy.Models.Buisness_Models.viewModel
@{

    var enroll = ViewBag.enroll as string;
    var compquiz = ViewBag.compquiz as string;
    var upcomming = ViewBag.upcomming as string;
    var aggregate = ViewBag.aggregate as string;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teacher Dashboard - Quizzy</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="~/css/mainpage_teacher.css">

    <script type="text/javascript" src="~/js/login.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const imagePlaceholders = [
                {
                    element: document.querySelector('.option-card:nth-child(1) img'),
                    backgroundColor: '#E3F2FD',
                    svg: `<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 100">
                        <rect width="100%" height="100%" fill="#E3F2FD"/>
                        <g transform="translate(20,20) scale(0.6)">
                            <path fill="#8672FF" d="M50 5c-1.4 0-2.5 1.1-2.5 2.5v10c0 1.4 1.1 2.5 2.5 2.5s2.5-1.1 2.5-2.5v-10c0-1.4-1.1-2.5-2.5-2.5zm17.5 5h-10c-1.4 0-2.5 1.1-2.5 2.5s1.1 2.5 2.5 2.5h10c1.4 0 2.5-1.1 2.5-2.5s-1.1-2.5-2.5-2.5zm7.5 7.5h-5v-5h-5v5h-5v5h5v5h5v-5h5v-5zM65 42.5H35c-1.4 0-2.5 1.1-2.5 2.5s1.1 2.5 2.5 2.5h30c1.4 0 2.5-1.1 2.5-2.5s-1.1-2.5-2.5-2.5zm0 10H35c-1.4 0-2.5 1.1-2.5 2.5s1.1 2.5 2.5 2.5h30c1.4 0 2.5-1.1 2.5-2.5s-1.1-2.5-2.5-2.5zm0 10H35c-1.4 0-2.5 1.1-2.5 2.5s1.1 2.5 2.5 2.5h30c1.4 0 2.5-1.1 2.5-2.5s-1.1-2.5-2.5-2.5z"/>
                            <path fill="#2E2B41" d="M82.5 15h-65C13.2 15 10 18.2 10 22.5v55c0 4.3 3.2 7.5 7.5 7.5h65c4.3 0 7.5-3.2 7.5-7.5v-55c0-4.3-3.2-7.5-7.5-7.5zm2.5 62.5c0 1.4-1.1 2.5-2.5 2.5h-65c-1.4 0-2.5-1.1-2.5-2.5v-55c0-1.4 1.1-2.5 2.5-2.5h65c1.4 0 2.5 1.1 2.5 2.5v55z"/>
                        </g>
                    </svg>`
                },
                {
                    element: document.querySelector('.option-card:nth-child(2) img'),
                    backgroundColor: '#E8F5E9',
                    svg: `<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 100">
                        <rect width="100%" height="100%" fill="#E8F5E9"/>
                        <g transform="translate(15,15) scale(0.7)">
                            <path fill="#8672FF" d="M77.5 15h-55c-4.1 0-7.5 3.4-7.5 7.5v55c0 4.1 3.4 7.5 7.5 7.5h55c4.1 0 7.5-3.4 7.5-7.5v-55c0-4.1-3.4-7.5-7.5-7.5zm-40 50L25 52.5l5-5 7.5 7.5 25-25 5 5-30 30z"/>
                            <path fill="#2E2B41" d="M67.5 45c-1.4 0-2.5 1.1-2.5 2.5v2.5h-30v-2.5c0-1.4-1.1-2.5-2.5-2.5s-2.5 1.1-2.5 2.5v5c0 1.4 1.1 2.5 2.5 2.5h35c1.4 0 2.5-1.1 2.5-2.5v-5c0-1.4-1.1-2.5-2.5-2.5z"/>
                        </g>
                    </svg>`
                },
                {
                    element: document.querySelector('.option-card:nth-child(3) img'),
                    backgroundColor: '#FFF3E0',
                    svg: `<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 100">
                        <rect width="100%" height="100%" fill="#FFF3E0"/>
                        <g transform="translate(22,20) scale(0.6)">
                            <path fill="#8672FF" d="M45 70c-8.3 0-15-6.7-15-15s6.7-15 15-15 15 6.7 15 15-6.7 15-15 15zm0-25c-5.5 0-10 4.5-10 10s4.5 10 10 10 10-4.5 10-10-4.5-10-10-10z"/>
                            <path fill="#2E2B41" d="M82.5 35h-15c-1.4 0-2.5-1.1-2.5-2.5v-5c0-6.9-5.6-12.5-12.5-12.5h-15c-6.9 0-12.5 5.6-12.5 12.5v5c0 1.4-1.1 2.5-2.5 2.5h-15C7.4 35 5 37.4 5 40v30c0 2.6 2.4 5 5 5h75c2.6 0 5-2.4 5-5V40c0-2.6-2.4-5-5-5zM30 27.5c0-4.1 3.4-7.5 7.5-7.5h15c4.1 0 7.5 3.4 7.5 7.5v2.5h-30v-2.5zm55 42.5c0 0 0 0 0 0H5V40h15v2.5c0 1.4 1.1 2.5 2.5 2.5h45c1.4 0 2.5-1.1 2.5-2.5V40h15v30z"/>
                            <path fill="#8672FF" d="M75 45c-1.4 0-2.5 1.1-2.5 2.5v5c0 1.4 1.1 2.5 2.5 2.5s2.5-1.1 2.5-2.5v-5c0-1.4-1.1-2.5-2.5-2.5z"/>
                        </g>
                    </svg>`
                },
                {
                    element: document.querySelector('.option-card:nth-child(4) img'),
                    backgroundColor: '#E1F5FE',
                    svg: `<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 100">
                        <rect width="100%" height="100%" fill="#E1F5FE"/>
                        <g transform="translate(10,20) scale(0.8)">
                            <circle cx="50" cy="30" r="10" fill="#8672FF"/>
                            <circle cx="25" cy="45" r="7.5" fill="#8672FF"/>
                            <circle cx="75" cy="45" r="7.5" fill="#8672FF"/>
                            <path fill="#2E2B41" d="M50 45c-8.3 0-15 6.7-15 15v10c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5V60c0-8.3-6.7-15-15-15z"/>
                            <path fill="#2E2B41" d="M32.5 55h-15c-1.4 0-2.5 1.1-2.5 2.5V65c0 1.4 1.1 2.5 2.5 2.5h15c1.4 0 2.5-1.1 2.5-2.5v-7.5c0-1.4-1.1-2.5-2.5-2.5z"/>
                            <path fill="#2E2B41" d="M82.5 55h-15c-1.4 0-2.5 1.1-2.5 2.5V65c0 1.4 1.1 2.5 2.5 2.5h15c1.4 0 2.5-1.1 2.5-2.5v-7.5c0-1.4-1.1-2.5-2.5-2.5z"/>
                        </g>
                    </svg>`
                }
            ];

            // Apply the SVG images to each card
            imagePlaceholders.forEach(placeholder => {
                if (placeholder.element) {
                    placeholder.element.outerHTML = placeholder.svg;
                }
            });

            // Sample data for stats - in a real application, this would come from your backend
            const statsData = [
                { selector: '.stat-value:nth-child(1)', value: 3 },
                { selector: '.stat-value:nth-child(2)', value: 12 },
                { selector: '.stat-value:nth-child(3)', value: 28 },
                { selector: '.stat-value:nth-child(4)', value: '83%' }
            ];

            // Refresh button functionality
            document.querySelector('.refresh-btn').addEventListener('click', function() {
                this.querySelector('i').classList.add('fa-spin');
                setTimeout(() => {
                    this.querySelector('i').classList.remove('fa-spin');
                }, 1000);
            });
        });
    </script>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-brand">
                <i class="fas fa-graduation-cap brand-icon"></i>
                <h2>Quizzy</h2>
            </div>
            <div class="navbar-menu">
                <div class="user-welcome">
                    <i class="fas fa-user-circle user-icon"></i>
                    <span>Welcome, @Model.Teacher.first_name @Model.Teacher.last_name</span>
                </div>
                <a href="/teacher/logOut" class="btn-logout"><i class="fas fa-sign-out-alt"></i> Log Out</a>
            </div>
        </div>
    </nav>
    <a href="/teacher/main" class="btn-go-back">
        <i class="fas fa-arrow-left"></i> Go Back
    </a>
    <!-- Main Content -->
    <div class="content-wrapper">
        <div class="dashboard-header">
            <h1>Teacher Dashboard</h1>
            <div class="course-badge">
                <i class="fas fa-book-open"></i>
                <span>Current Course: @Model.Subject.code - @Model.Subject.name</span>
            </div>
        </div>
        @if (TempData["Check"] != null)
        {
            <div style="color: #07fc03; font-size: 16px; text-align: center;">
                @TempData["Check"]
            </div>
        }
        @if (TempData["log"] != null)
        {
            <div style="color: red; font-size: 16px; text-align: center;">
                @TempData["log"]
            </div>
        }


        <!-- Section with Options -->
        <div class="options-container">
            <!-- Option 1: Create Quiz -->
            <div class="option-card">
                <div class="card-icon">
                    <img src="/api/placeholder/400/320" alt="Create Quiz" />
                    <i class="fas fa-plus-circle"></i>
                </div>
                <div class="card-content">
                    <h3>Create Quiz</h3>
                    <p>Design and publish new quizzes for your students</p>
                    <a href="/quiz/create" class="btn-option">Create Now <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>

            <!-- Option 2: Check Quiz -->
            <div class="option-card">
                <div class="card-icon">
                    <img src="/api/placeholder/400/320" alt="Review Quizzes" />
                    <i class="fas fa-clipboard-check"></i>
                </div>
                <div class="card-content">
                    <h3>Check Quizzes</h3>
                    <p>View results and analyze student performance</p>
                    <a href="/quiz/check" class="btn-option">Check Now <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>

            <!-- Option 3: Make Announcements -->
            <div class="option-card">
                <div class="card-icon">
                    <img src="/api/placeholder/400/320" alt="Announcements" />
                    <i class="fas fa-bullhorn"></i>
                </div>
                <div class="card-content">
                    <h3>Announcements</h3>
                    <p>Share important updates with your students</p>
                    <a href="/teacher/announcements" class="btn-option">Announce Something <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>

            <!-- Option 4: View Students -->
            <div class="option-card">
                <div class="card-icon">
                    <img src="/api/placeholder/400/320" alt="Student Management" />
                    <i class="fas fa-users"></i>
                </div>
                <div class="card-content">
                    <h3>Student Management</h3>
                    <p>View and manage the students enrolled in your course</p>
                    <a href="/teacher/studentManage" class="btn-option">Manage<i class="fas fa-arrow-right"></i></a>
                </div>
            </div>
        </div>

        <!-- Quick Stats Section -->
        <div class="stats-container">
            <div class="stats-header">
                <h3>Quick Stats</h3>
                <span class="refresh-btn"><i class="fas fa-sync-alt"></i> Refresh</span>
            </div>
            <div class="stats-cards">
                <div class="stat-card">
                    <div class="stat-icon pending">
                        <i class="fas fa-hourglass-half"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value">@upcomming</span>
                        <span class="stat-label">UnAssigned Quizzes</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon completed">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value">@compquiz</span>
                        <span class="stat-label">Assigned Quizzes</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon students">
                        <i class="fas fa-user-graduate"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value">@enroll</span>
                        <span class="stat-label">Active Students</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon average">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value">@aggregate%</span>
                        <span class="stat-label">Average Score</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer Section -->
        <div class="dashboard-footer">
            <p class="footer-message">Happy Teaching, @Model.Teacher.first_name @Model.Teacher.last_name!</p>
            <p class="copyright">&copy; 2025 Quizzy. All rights reserved.</p>
        </div>
    </div>
</body>
</html>

